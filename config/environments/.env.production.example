# =============================================================================
# Parsify Production Environment Configuration
# =============================================================================
# This file contains environment-specific settings for production
# DO NOT commit actual secrets to version control

# =============================================================================
# Basic Environment Settings
# =============================================================================
ENVIRONMENT=production
NODE_ENV=production
LOG_LEVEL=info
DEBUG=false

# =============================================================================
# API Configuration
# =============================================================================
API_VERSION=v1
API_BASE_URL=https://api.parsify.dev
API_TIMEOUT=30000
MAX_REQUEST_SIZE=10485760

# =============================================================================
# Security Configuration
# =============================================================================
# CRITICAL: Use strong, unique secrets generated for production
JWT_SECRET=your-production-super-secret-jwt-key-minimum-32-characters
ENCRYPTION_KEY=your-production-super-secret-encryption-key-minimum-32-characters

# Session configuration
SESSION_SECRET=your-production-session-secret-key
SESSION_TIMEOUT=1800000

# CORS configuration
CORS_ORIGIN=https://parsify.dev,https://www.parsify.dev,https://app.parsify.dev
CORS_CREDENTIALS=true

# =============================================================================
# Database Configuration (Cloudflare D1)
# =============================================================================
DATABASE_ID=your-production-database-id
DATABASE_NAME=parsify-prod
DATABASE_TIMEOUT=5000

# =============================================================================
# Cloudflare Storage Configuration
# =============================================================================

# R2 Buckets
R2_FILES_BUCKET_NAME=parsify-files-prod
R2_FILES_BUCKET_ID=your-production-files-bucket-id
R2_BACKUPS_BUCKET_NAME=parsify-backups-prod
R2_BACKUPS_BUCKET_ID=your-production-backups-bucket-id

# KV Namespaces
KV_CACHE_ID=your-production-cache-kv-id
KV_SESSIONS_ID=your-production-sessions-kv-id
KV_UPLOADS_ID=your-production-uploads-kv-id
KV_ANALYTICS_ID=your-production-analytics-kv-id

# Durable Objects
DURABLE_OBJECT_SESSION_MANAGER_SCRIPT=parsify-api-prod
DURABLE_OBJECT_COLLABORATION_ROOM_SCRIPT=parsify-api-prod
DURABLE_OBJECT_REALTIME_SYNC_SCRIPT=parsify-api-prod

# =============================================================================
# Monitoring and Analytics
# =============================================================================

# Sentry (Error Tracking)
SENTRY_DSN=https://your-production-dsn.ingest.sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.05
SENTRY_PROFILES_SAMPLE_RATE=0.05
SENTRY_DEBUG=false
SENTRY_SESSION_SAMPLE_RATE=1.0
SENTRY_ENABLE_PERFORMANCE=true
SENTRY_ENABLE_REPLAY=true
SENTRY_REPLAY_SESSION_SAMPLE_RATE=0.05
SENTRY_REPLAY_ERROR_SAMPLE_RATE=1.0

# Analytics (Plausible)
ANALYTICS_DOMAIN=parsify.dev
ANALYTICS_API_KEY=your-production-plausible-api-key
ANALYTICS_SAMPLE_RATE=0.1

# =============================================================================
# External Services
# =============================================================================

# Email Service (Resend)
EMAIL_API_KEY=re_your_production_api_key
EMAIL_FROM_ADDRESS=noreply@parsify.dev

# GitHub OAuth (production app)
GITHUB_CLIENT_ID=your_production_github_client_id
GITHUB_CLIENT_SECRET=your_production_github_client_secret

# Google OAuth (production app)
GOOGLE_CLIENT_ID=your_production_google_client_id
GOOGLE_CLIENT_SECRET=your_production_google_client_secret

# =============================================================================
# Development Configuration
# =============================================================================
ENABLE_HOT_RELOAD=false
ENABLE_SOURCE_MAPS=false
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_TEST_DATA=false
ENABLE_MOCK_SERVICES=false

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_REAL_TIME_COLLABORATION=true
ENABLE_ADVANCED_TOOLS=true
ENABLE_FILE_UPLOADS=true
ENABLE_USER_AUTHENTICATION=true
ENABLE_ANALYTICS=true
ENABLE_NOTIFICATIONS=true
ENABLE_BETA_FEATURES=false
ENABLE_DEBUG_MODE=false

# =============================================================================
# Performance Configuration
# =============================================================================
ENABLE_CACHING=true
CACHE_TIMEOUT=600
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=9
ENABLE_MINIFICATION=true
ENABLE_BUNDLE_ANALYSIS=false

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# Queue Configuration
# =============================================================================
ANALYTICS_QUEUE_NAME=analytics-events-prod
UPLOAD_QUEUE_NAME=file-uploads-prod
NOTIFICATIONS_QUEUE_NAME=notifications-prod

# =============================================================================
# Scheduled Tasks
# =============================================================================
CLEANUP_ENABLED=true
CLEANUP_SCHEDULE=0 */6 * * *
CLEANUP_RETENTION_DAYS=30

BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90

ANALYTICS_ENABLED=true
ANALYTICS_SCHEDULE=0 * * * *
ANALYTICS_AGGREGATION_WINDOW=3600

# =============================================================================
# DNS and Domain Configuration
# =============================================================================
DOMAIN=parsify.dev
API_DOMAIN=api.parsify.dev
CDN_DOMAIN=cdn.parsify.dev

# Cloudflare Zone ID
CLOUDFLARE_ZONE_ID=your-production-cloudflare-zone-id
CLOUDFLARE_API_TOKEN=your-production-cloudflare-api-token
CLOUDFLARE_ACCOUNT_ID=your-production-cloudflare-account-id

# =============================================================================
# High Availability Configuration
# =============================================================================
HA_ENABLED=true
HA_REGIONS=iad1,dfw,sfo
FAILOVER_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
MAX_FAILURES_BEFORE_FAILOVER=3

# =============================================================================
# Scalability Configuration
# =============================================================================
AUTO_SCALING_ENABLED=true
MIN_INSTANCES=2
MAX_INSTANCES=100
CPU_THRESHOLD=70
MEMORY_THRESHOLD=80
RESPONSE_TIME_THRESHOLD=1000
SCALE_UP_COOLDOWN=300000
SCALE_DOWN_COOLDOWN=600000

# =============================================================================
# CI/CD Configuration
# =============================================================================
CI=true
BUILD_NUMBER=
COMMIT_SHA=
BRANCH_NAME=main

# =============================================================================
# Health Check Configuration
# =============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=5

# =============================================================================
# Incident Response
# =============================================================================
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_TO=alerts@parsify.dev
ALERT_SLACK_ENABLED=true
ALERT_SLACK_WEBHOOK_URL=your-production-slack-webhook-url

# =============================================================================
# Compliance and Security
# =============================================================================
GDPR_ENABLED=true
CCPA_ENABLED=true
DATA_RETENTION_DAYS=365
DATA_ANONYMIZATION_ENABLED=true
DATA_DELETION_ENABLED=true
SECURITY_HEADERS_ENABLED=true

# =============================================================================
# Additional Production Security
# =============================================================================
SECURITY_TRANSPORT_SECURITY=true
SECURITY_CONTENT_SECURITY_POLICY=true
SECURITY_FRAME_OPTIONS=DENY
SECURITY_CONTENT_TYPE_OPTIONS=nosniff

# =============================================================================
# Production Analytics and Monitoring
# =============================================================================
PROFILING_ENABLED=true
TRACE_SAMPLING_RATE=0.05
ERROR_SAMPLING_RATE=1.0
PERFORMANCE_MONITORING_ENABLED=true
